<%= bootstrap_form_for(sys_user) do |f| %>
  <% if sys_user.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(sys_user.errors.count, "error") %> prohibited this sys_user from being saved:</h2>
      <ul>
        <% sys_user.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class="col-lg-12 row">
    <div class="col-lg-6 form-group float-left">
      <%= f.text_field :code, placeholder: "Enter the code", class: 'urdu-font', value: (f.object.code.nil? ? ("AGC-"+"%.4i" % (SysUser.maximum(:id).present? ? SysUser.maximum(:id).next : 1)) : (f.object.code )) %>
    </div>
    <div class="col-lg-6 form-group float-left text-black">
      <%= f.text_field :cnic, required:true, placeholder: "Enter CNIC", hide_label: true ,class: 'urdu-font' %>
    </div>
  </div>

  <div class="col-lg-12 row">
    <div class="col-lg-6 form-group float-left text-black">
      <%= f.text_field :name, placeholder: "Enter Name", hide_label: true ,class: 'urdu-font' %>
    </div>
    <div class="col-lg-6 form-group float-left text-black">
      <%= f.text_field :father, placeholder: "Enter Father Name", hide_label: true ,class: 'urdu-font' %>
    </div>
  </div>

  <div class="col-lg-12 row">
    <div class="col-lg-6 form-group float-left">
      <%= f.select :status, SysUser.statuses.map { |key, value| [key.humanize, key] },{include_blank: "Please Select Status"},{class: "form-control"} %>
    </div>
     <div class="col-lg-6" style="float:left">
      <%= f.select :user_group, SysUser.user_groups.map { |key, value| [key.humanize, key] },{include_blank: "Please Select User Group"},{class: "form-control", required: true} %>
    </div>
  </div>

  <div class="col-lg-12 row">
    <div class="col-lg-6 form-group float-left text-black">
      <%= f.text_field :occupation, placeholder: "Enter Occupation", hide_label: true ,class: 'urdu-font' %>
    </div>
     <div class="col-lg-6 form-group float-left">
      <%= f.number_field :credit_limit, placeholder: "Enter Credit limit", hide_label: true ,class: 'urdu-font' %>
    </div>
  </div>

  <div class="col-lg-12 row">
    <div class="col-lg-6 form-group float-left">
      <%= f.select :user_type_id, options_from_collection_for_select(@user_types, 'id', 'title', f.object.user_type_id.present? ? f.object.user_type_id : @user_types.first.id ),{include_blank: "Please Select User Type"} %>
    </div>
    <div class="col-lg-6 form-group float-left">
      <%= f.select :credit_status, SysUser.statuses.map { |key, value| [key.humanize, key]},{include_blank: "Please Select Credit Status"},{class: "form-control"} %>
    </div>
  </div>

  <div class="col-lg-12 row">
    <div class="col-lg-6 form-group float-left">
      <%= f.number_field :opening_balance, { value: f.object.opening_balance.present? ? f.object.opening_balance : 0} %>
    </div>
    <div class="col-lg-6 form-group float-left">
      <%= f.number_field :balance, disabled: true %>
    </div>
  </div>

  <div class="col-lg-12 row">
    <div class="col-lg-6 form-group float-left text-black">
      <%= f.text_area :gst, placeholder: "Enter GST", hide_label: true ,class: 'urdu-font' %>
    </div>
    <div class="col-lg-6 form-group float-left text-black">
      <%= f.text_area :ntn, placeholder: "Enter NTN", hide_label: true ,class: 'urdu-font' %>
    </div>
  </div>
  <div class="col-lg-12 row">
    <div class="col-lg-6 form-group float-left">
      <%= f.file_field :profile_image %>
    </div>
  </div>

  <h4 class="card-header mb-4">
      Nominee Details
  </h4>

  <div class="col-lg-12 row">
    <div class="col-lg-6 form-group float-left text-black">
      <%= f.text_field :nom_name, placeholder: "Enter Nominee Name", hide_label: true ,class: 'urdu-font' %>
    </div>
    <div class="col-lg-6 form-group float-left text-black">
      <%= f.text_field :nom_father, placeholder: "Enter Nominee Father Name", hide_label: true ,class: 'urdu-font' %>
    </div>
  </div>

  <div class="col-lg-12 row">
    <div class="col-lg-6 form-group float-left text-black">
      <%= f.text_field :nom_cnic, placeholder: "Enter Nominee CNIC", hide_label: true ,class: 'urdu-font' %>
    </div>
    <div class="col-lg-6 form-group float-left text-black">
      <%= f.text_field :nom_relation, placeholder: "Enter Nominee Relation", hide_label: true ,class: 'urdu-font' %>
    </div>
  </div>

  <div>
    <h4 class="card-header mb-4">
        Contact Details
    </h4>
    <%= f.fields_for :contact do |af| %>
        <%= render 'contact', af: af %>
    <% end %>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
    <%=f.object.id.nil? ? (f.submit class: "btn btn-success mr-4", style: "float: right")  :  (f.submit class: "btn btn-warning mr-4", style: "float: right")%>
  </div>
<% end %>
