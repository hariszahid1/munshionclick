<h3>Report:</h3>
<%@rev=Hash.new%>
<div class="row">
  <div class="col-lg-12 col-sm-12">
    <%=form_tag(reports_chart_path, method: :get) do %>
      <div class="row col-lg-3 form-group float-left">
        <div class="col-lg-4" style="padding-right: 0;">
          <%= select_month(@paid_to_month.to_i, {prompt: "Month", use_short_month: true, prefix: 'from'},{ field_name: 'month', id: 'start-month', class: 'form-control input-sm select-chosen'}) %>
        </div>
        <div class="col-lg-4" style="padding-left: 0;">
          <%= select_year(@paid_to_year.to_i, {prompt: "Year", start_year: Date.today.year + 1, end_year: Date.today.year - 7, prefix: 'from'},{ field_name: 'year', id: 'start-year', class: 'form-control input-sm select-chosen'}) %>
        </div>
        <%tabe= params[:from_tabe].present? ? params[:from_tabe] : 'pills-home'%>
        <%=hidden_field_tag 'from_tabe', tabe%>
      </div>

      <div class="col-lg-2 form-group float-left">
        <input class="form-control btn btn-primary" name="search_submit" type="submit" value="Search"></input>
      </div>
      <div class="col-lg-2 form-group float-left">
        <button class="form-control btn btn-secondary" name="submit_pdf" type="submit" value="Accounts PDF A4" formtarget="_blank"> <i class="fa fa-file-pdf"></i></button>
      </div>
    <% end %>
  </div>
</div>
<ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
  <li class="nav-item" onclick="updatetabs('pills-home')">
    <a class="<%=params[:from_tabe]=='pills-home' ? 'nav-link active' : 'nav-link'%>" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="true">Line Chart</a>
  </li>
  <li class="nav-item" onclick="updatetabs('pills-profile')">
    <a class="<%=params[:from_tabe]=='pills-profile' ? 'nav-link active' : 'nav-link'%>" id="pills-profile-tab" data-toggle="pill" href="#pills-profile" role="tab" aria-controls="pills-profile" aria-selected="false">Graph chart</a>
  </li>
  <li class="nav-item" onclick="updatetabs('pills-expense-month')">
      <a class="<%=params[:from_tabe]=='pills-expense-month' ? 'nav-link active' : 'nav-link'%>" id="pills-profile-expense" data-toggle="pill" href="#pills-expense" role="tab" aria-controls="pills-expense" aria-selected="false">Expense By Month</a>
  </li>
  <li class="nav-item" onclick="updatetabs('pills-expense-day')">
      <a class="<%=params[:from_tabe]=='pills-expense-day' ? 'nav-link active' : 'nav-link'%>" id="pills-profile-expense-day" data-toggle="pill" href="#pills-expense-day" role="tab" aria-controls="pills-expense" aria-selected="false">Expense By Day</a>
  </li>
  <li class="nav-item" onclick="updatetabs('pills-revenue-month')">
      <a class="<%=params[:from_tabe]=='pills-revenue-month' ? 'nav-link active' : 'nav-link'%>" id="pills-profile-revenue" data-toggle="pill" href="#pills-revenue" role="tab" aria-controls="pills-revenue" aria-selected="false">Revenue By Month</a>
  </li>
  <li class="nav-item" onclick="updatetabs('pills-revenue-day')">
      <a class="<%=params[:from_tabe]=='pills-revenue-day' ? 'nav-link active' : 'nav-link'%>" id="pills-profile-revenue-day" data-toggle="pill" href="#pills-revenue-day" role="tab" aria-controls="pills-expense" aria-selected="false">Revenue By Day</a>
  </li>
  <li class="nav-item" onclick="updatetabs('pills-account')">
      <a class="<%=params[:from_tabe]=='pills-account' ? 'nav-link active' : 'nav-link'%>" id="pills-profile-account" data-toggle="pill" href="#pills-account" role="tab" aria-controls="pills-expense" aria-selected="false">Accounts</a>
  </li>
</ul>
<div class="tab-content" id="pills-tabContent">
  <div class= "<%=params[:from_tabe]=='pills-home' ? 'tab-pane fade show active' : 'tab-pane fade show active'%>" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab" style="margin:2pc;">
    <%= render partial: "column_chart_revenue_expenses", locals: {} %>
  </div>
  <div class= "<%=params[:from_tabe]=='pills-profile' ? 'tab-pane fade show active' : 'tab-pane fade '%>" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
    <%= render partial: "line_chart_revenue_expenses", locals: {} %>
  </div>
  <div class="<%=params[:from_tabe]=='pills-expense-month' ? 'tab-pane fade show active' : 'tab-pane fade '%>" id="pills-expense" role="tabpanel" aria-labelledby="pills-profile-tab">
    <%= render partial: "expense_detail", locals: {} %>
  </div>
  <div class="<%=params[:from_tabe]=='pills-expense-day' ? 'tab-pane fade show active' : 'tab-pane fade '%>" id="pills-expense-day" role="tabpanel" aria-labelledby="pills-profile-tab">
    <%= render partial: "expense_detail_day", locals: {} %>
  </div>
  <div class="<%=params[:from_tabe]=='pills-revenue-month' ? 'tab-pane fade show active' : 'tab-pane fade '%>" id="pills-revenue" role="tabpanel" aria-labelledby="pills-profile-tab">
    <%= render partial: "revenue_detail", locals: {} %>
  </div>
  <div class="<%=params[:from_tabe]=='pills-revenue-day' ? 'tab-pane fade show active' : 'tab-pane fade '%>" id="pills-revenue-day" role="tabpanel" aria-labelledby="pills-profile-tab">
    <%= render partial: "revenue_detail_day", locals: {} %>
  </div>
  <div class="<%=params[:from_tabe]=='pills-account' ? 'tab-pane fade show active' : 'tab-pane fade '%>" id="pills-account" role="tabpanel" aria-labelledby="pills-profile-tab">
    <%= render partial: "account_detail", locals: {} %>
  </div>
</div>
<script>
  $(document).ready(function() {
    setTimeout(function(){
      if($('#from_tabe').val()!='pills-home')
      {$('#pills-home').removeClass('active');}
    }, 50);
  });
</script>
