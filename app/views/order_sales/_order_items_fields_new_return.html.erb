<div class="nested-fields">
  <%if params[:transaction_type].present? || @order.transaction_type=='Sale'%>
    <table>
    <tbody>
      <tr class="bg-danger">
        <td>
          <%= f.hidden_field :order_id %>
          <%= f.hidden_field :id %>
          <%= f.hidden_field :transaction_type, value: "Sale"%>
          <%= f.hidden_field :purchase_sale_type, value: "Return_type"%>
          <%= f.select :product_id, options_from_collection_for_select(@products, 'id', 'title'), {hide_label: true,prompt: "Select the Product"}, onchange: 'set_sale_order(this.value,this.id); return false;', class: "chosen-select",required: true%>
        </td>
        <td><%= f.number_field :quantity,step: :any,class:'quantity-price-return', hide_label: true,placeholder: :quantity,onchange:"costUpdateReturn()",onkeyup:"costUpdateReturn()"%>    </td>
        <td><%= f.number_field :sale_price,step: :any,class:'cost-price-return',hide_label: true, placeholder: :sale_price,readonly: true,onchange:"costUpdateReturn()",onkeyup:"costUpdateReturn()"%></td>
        <td><%= f.number_field :total_sale_price,step: :any,class:'total-cost-price-return', hide_label: true,placeholder: :cost_price,onchange:"costUpdateReturn()",onkeyup:"costUpdateReturn()"%></td>
        <td><%= f.number_field :discount_price,step: :any,class:'discount-price-return', hide_label: true,placeholder: :discount,onchange:"costUpdateReturn()",onkeyup:"costUpdateReturn()"%></td>
        <td class="return_links"><%= link_to_remove_association "Remove", f , class: "btn btn-info"%></td>
      </tr>
    </tbody>
    </table>
  <%end%>
  <script>
    setTimeout(function(){
      $(".chosen-select").chosen({
  allow_single_deselect: true,
  width: '100%'
});
    }, 50);
  </script>
</div>
