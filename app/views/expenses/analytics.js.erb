$("#show-analytics").html("<%= escape_javascript(render(:partial => "analytics"))%>");

$( document ).ready(function() {
rails_exp= '<%=@expenses_g%>'
rails_label = '<%=@exp_date_join%>'
rails_type  = '<%=@the_type_join%>'
        
var ctx = document.getElementById("myChart5").getContext("2d");

        var chart = {
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            title: {
                display: true,
                text: 'Multiple Expense Types Date Wise Line Chart by their Expense Amount',
                font: {
                  size: 20
                }
            }
        }
      },
        type: 'line',
        data: {
                 labels: rails_label.split('&amp;'),
        labels: rails_label.split('&amp;'),
        datasets: [
          <%@the_type.each do |expense|%>
          {
            label: '<%=expense%>',
            data:  [
                    <%if @exp_types[expense].present?%>
                      <%@exp_types[expense].each do |i|%>
                        '<%=i%>',
                      <%end%>
                    <%end%>
                  ]
          },
          <%end%>
        ]
        }
        };


  var newwidth = (rails_label.length * 10) + 100
  if (newwidth > 1000){
    $('.chartAreaWrapper2').width(newwidth);
  }
   var myLiveChart = new Chart(ctx, chart);

})



$( document ).ready(function() {
rails_label = '<%=@the_type_join%>'
var ExpenseType = $('#ExpenseType').val().split(' ')
var theType = $('#theType').val().split(' ')
var rails_type  = '<%=@the_type_join%>'
        
var ctx = document.getElementById("myChart1").getContext("2d");

        var chart = {
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            title: {
                display: true,
                text: 'Expense Types Bar Chart by Expense Amount',
                font: {
                  size: 20
                }
            }
        }
          
         
      },
        type: 'bar',
        data: {
                 labels: rails_label.split('&amp;'),
        datasets: [{
            label: 'Total Expense',
      data: ExpenseType,   
      backgroundColor: '#FF5C5C' }]
        }
        };



  var newwidth = (rails_label.length * 2) + 100
  if (newwidth > 1000){
    $('.chartAreaWrapper2').width(newwidth);
  }
  var myLiveChart = new Chart(ctx, chart);

})





$( document ).ready(function() {
rails_label = '<%=@exp_date_join%>'
var ExpenseType = $('#ExpenseType').val().split(' ')
var theType = $('#theType').val().split(' ')
var rails_type  = '<%=@the_type_join%>'
        
var ctx = document.getElementById("myChart2").getContext("2d");

        var chart = {
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            title: {
                display: true,
                text: 'Expense Amount Date Wise Line Chart',
                font: {
                  size: 20
                }
            }
        }
          
         
      },
        type: 'line',
        data: {
                 labels: rails_label.split('&amp;'),
        datasets: [{
            label: 'Total Expense',
      data: ExpenseType, }]
        }
        };



  var newwidth = (rails_label.length * 2) + 100
  if (newwidth > 1000){
    $('.chartAreaWrapper2').width(newwidth);
  }
  var myLiveChart = new Chart(ctx, chart);

})


$( document ).ready(function() {
rails_label = '<%=@the_type_join%>'
var ExpenseType = $('#ExpenseType').val().split(' ')
var theType = $('#theType').val().split(' ')
var rails_type  = '<%=@the_type_join%>'

        
var ctx = document.getElementById("myChart3").getContext("2d");

        var chart = {
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            title: {
                display: true,
                text: 'Expense Types Line Chart by Expense Amount',
                font: {
                  size: 20
                }
            }
        }
          
         
      },
        type: 'line',
        data: {
                 labels: rails_label.split('&amp;'),
        datasets: [{
            label: 'Total Expense',
      data: ExpenseType, }]
        }
        };



  var newwidth = (rails_label.length * 2) + 100
  if (newwidth > 1000){
    $('.chartAreaWrapper2').width(newwidth);
  }
  var myLiveChart = new Chart(ctx, chart);

})
